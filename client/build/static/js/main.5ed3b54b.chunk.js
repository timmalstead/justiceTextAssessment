(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{18:function(e,n,t){e.exports=t(28)},28:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(13),u=t.n(c),i=t(1),o=t(2);function l(){var e=Object(i.a)(["\n  height: 1000px;\n  visibility: hidden;\n"]);return l=function(){return e},e}function s(){var e=Object(i.a)(["\n  text-align: center;\n"]);return s=function(){return e},e}function f(){var e=Object(i.a)(["\n    * {\n        margin: 0;\n        padding: 0;\n    }\n\n    body {\n        width: 1400px;\n        height:100%;\n        margin: auto;\n        font-family: Arial,Helvetica,sans-serif;\n    }\n"]);return f=function(){return e},e}var p=Object(o.a)(f()),b=o.b.div(s());b.displayName="AppContainer";var h=o.b.div(l());h.displayName="Loader";var d=t(3),m=t(9),v=t.n(m),g=t(17),O=t(5),j=function(e,n){switch(n.type){case"STACK_PARAGRAPHS":return Object(O.a)(Object(O.a)({},e),{},{paragraphs:e.paragraphs.concat(n.paragraphs)});case"FETCHING_PARAGRAPHS":return Object(O.a)(Object(O.a)({},e),{},{fetching:n.fetching});default:return e}},A=function(e,n){var t=Object(r.useState)(!0),a=Object(d.a)(t,2),c=a[0],u=a[1],i=Object(r.useState)([]),o=Object(d.a)(i,2),l=o[0],s=o[1];Object(r.useEffect)((function(){(function(){var t=Object(g.a)(v.a.mark((function t(){var r,a,i,o,f;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e({type:"FETCHING_PARAGRAPHS",fetching:!0}),!c){t.next=18;break}return u(!1),t.next=6,fetch("http://localhost:8080/api/dataIdList");case 6:return r=t.sent,t.next=9,r.json();case 9:return a=t.sent,i=a.map((function(e){return fetch("http://localhost:8080/api/dataItem/".concat(e)).then((function(e){return e.json()}))})),s(i),t.next=14,Promise.all(i.slice(0,n+1));case 14:o=t.sent,e({type:"STACK_PARAGRAPHS",paragraphs:o}),t.next=23;break;case 18:if(!l.length){t.next=23;break}return t.next=21,Promise.all(l.slice(n-1,n+1));case 21:f=t.sent,e({type:"STACK_PARAGRAPHS",paragraphs:f});case 23:e({type:"FETCHING_PARAGRAPHS",fetching:!1}),t.next=30;break;case 26:return t.prev=26,t.t0=t.catch(0),e({type:"FETCHING_PARAGRAPHS",fetching:!1}),t.abrupt("return",t.t0);case 30:case"end":return t.stop()}}),t,null,[[0,26]])})));return function(){return t.apply(this,arguments)}})()()}),[e,n,c,u,l,s])},E=function(e,n){var t=Object(r.useCallback)((function(e){return new IntersectionObserver((function(e){return e.forEach((function(e){e.isIntersecting&&n((function(e){return e+2}))}))})).observe(e)}),[n]);Object(r.useEffect)((function(){e.current&&t(e.current)}),[t,e])},x=t(10),y=function(e,n,t){var a=Object(r.useRef)(null),c=Object(r.useCallback)((function(e){new IntersectionObserver((function(e){return e.forEach((function(e){var n=e.target.id;e.isIntersecting?t((function(e){return Object(x.a)(new Set([].concat(Object(x.a)(e),[n])))})):t((function(e){return e.filter((function(e){return e!==n}))}))}))})).observe(e)}),[t]);Object(r.useEffect)((function(){a.current=document.querySelectorAll(e),a.current&&a.current.forEach((function(e){return c(e)}))}),[c,a,n.paragraphs,e])};function S(){var e=Object(i.a)(["\n  width: 10em;\n  border-radius: 0.5em;\n  padding: 0.5em;\n  outline: none;\n  border: none;\n  transition: transform 0.25s linear;\n  color: #6320ee;\n\n  :focus {\n    transform: scale(1.1);\n  }\n\n  ::placeholder {\n    color: #6320ee;\n  }\n"]);return S=function(){return e},e}function w(){var e=Object(i.a)(["\n  background-color: #6320ee;\n  width: 12em;\n  padding: 0.5em 1em;\n  position: fixed;\n  left: 0;\n  top: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  border-radius: 0 0 3em 0;\n  color: white;\n\n  > * {\n    margin: 0 0 0.5em 0;\n  }\n"]);return w=function(){return e},e}var I=o.b.div(w());I.displayName="SearchHolder";var R=o.b.input(S());R.displayName="Input";var P=function(e){var n=e.searchInput,t=e.setSearchInput;return a.a.createElement(I,null,a.a.createElement("h2",null,"JT Online Book"),a.a.createElement(R,{type:"text",placeholder:"Search Text",value:n,onChange:function(e){var n=e.target;return t(n.value)}}))};function k(){var e=Object(i.a)(["\n  background-color: ",";\n"]);return k=function(){return e},e}var H=o.b.span(k(),(function(e){return e.highlight?"#fdbcd4":null}));H.displayName="Text";var C=H,G=Object(r.memo)((function(e){var n=e.data,t=e.value,r=e.visible;return a.a.createElement(C,{highlight:r?(n.info.start/2e3|0)%t===0:null,contentEditable:!0,suppressContentEditableWarning:!0},"".concat(n.text," "))}));function N(){var e=Object(i.a)(['\n  width: 65%;\n  margin: 0.75em auto 0 auto;\n  overflow-wrap: break-word;\n  height: 370px;\n  font-family: Georgia, "Times New Roman", Times, serif;\n  font-size: 15px;\n  font-weight: 300;\n']);return N=function(){return e},e}var T=o.b.p(N());T.displayName="Article";var _=T,F=t(30),J=function(e){var n=e.i,t=e.row,c=e.value,u=e.searchInput,i=e.visibleParagraphs,o=Object(r.useRef)(Object(F.a)()).current,l=!!i.includes(o);return a.a.createElement(_,{className:"full-paragraph",id:o,visible:l},t.length?t.map((function(e,t){return u.length>0&&-1===e.text.search(u)?null:a.a.createElement(G,{key:"".concat(n).concat(t),value:c,data:e,visible:l})})):null)},K=function(){var e=Object(r.useReducer)(j,{paragraphs:[],fetching:!0}),n=Object(d.a)(e,2),t=n[0],c=n[1],u=Object(r.useState)(0),i=Object(d.a)(u,2),o=i[0],l=i[1],s=Object(r.useState)(""),f=Object(d.a)(s,2),p=f[0],m=f[1],v=Object(r.useState)(1),g=Object(d.a)(v,2),O=g[0],x=g[1],S=Object(r.useState)([]),w=Object(d.a)(S,2),I=w[0],R=w[1],k=Object(r.useRef)(null);return Object(r.useEffect)((function(){setInterval((function(){l(Math.floor(10*Math.random()))}),2e3)}),[]),A(c,O),E(k,x),y(".full-paragraph",t,R),a.a.createElement(b,null,a.a.createElement(P,{searchInput:p,setSearchInput:m}),a.a.createElement("div",null,t.paragraphs.length?t.paragraphs.map((function(e,n){return a.a.createElement(J,{key:"p".concat(n),i:n,row:e,value:o,searchInput:p,visibleParagraphs:I})})):null),a.a.createElement(h,{ref:k}))};u.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(K,null),a.a.createElement(p,null)),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.5ed3b54b.chunk.js.map